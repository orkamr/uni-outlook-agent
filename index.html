<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI-Powered Uniform Request System</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f9fafb; padding: 20px; min-height: 100vh; }
    h1 { text-align: center; font-size: 1.4rem; margin-bottom: 4px; color: #111; }
    .subtitle { text-align: center; color: #6b7280; font-size: 0.9rem; margin-bottom: 20px; }
    .toggle-btn { display: flex; align-items: center; gap: 12px; padding: 12px 20px; background: white; border: 2px solid #d1d5db; border-radius: 12px; cursor: pointer; margin: 0 auto 24px; transition: all 0.2s; }
    .toggle-btn:hover { background: #f9fafb; border-color: #9ca3af; }
    .toggle-icon { font-size: 1.3rem; }
    .toggle-text { text-align: left; }
    .toggle-title { font-size: 0.9rem; font-weight: 600; color: #374151; }
    .toggle-sub { font-size: 0.75rem; color: #6b7280; }
    .diagram-container { display: flex; justify-content: center; }
    .hidden { display: none; }
    .key-point { max-width: 600px; margin: 16px auto 0; background: #dcfce7; border: 2px solid #4ade80; border-radius: 8px; padding: 12px; text-align: center; color: #166534; font-size: 0.9rem; }
    .key-point strong { font-weight: 700; }
  </style>
</head>
<body>
  <h1>AI-Powered Uniform Request System</h1>
  <p class="subtitle">System Architecture</p>

  <button class="toggle-btn" onclick="toggleView()">
    <span class="toggle-icon" id="toggleIcon">üìä</span>
    <div class="toggle-text">
      <div class="toggle-title" id="toggleTitle">High-Level View</div>
      <div class="toggle-sub" id="toggleSub">Click to switch to Detailed</div>
    </div>
  </button>

  <div class="diagram-container">
    <!-- HIGH-LEVEL VIEW -->
    <svg id="highLevel" width="700" height="500" viewBox="0 0 700 500">
      <defs>
        <marker id="arr1" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/></marker>
        <marker id="arr3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/></marker>
      </defs>

      <!-- Employee -->
      <g transform="translate(80, 180)">
        <rect x="-55" y="-45" width="110" height="90" rx="10" fill="#f9fafb" stroke="#d1d5db" stroke-width="2"/>
        <circle cx="0" cy="-12" r="12" fill="none" stroke="#4b5563" stroke-width="1.5"/>
        <path d="M-20 28c0-12 10-18 20-18s20 6 20 18" fill="none" stroke="#4b5563" stroke-width="1.5"/>
        <text x="0" y="38" text-anchor="middle" font-size="13" font-weight="600" fill="#374151">Employee</text>
      </g>

      <!-- Outlook -->
      <g transform="translate(230, 180)">
        <rect x="-55" y="-45" width="110" height="90" rx="10" fill="#eff6ff" stroke="#3b82f6" stroke-width="2"/>
        <rect x="-20" y="-30" width="40" height="40" rx="6" fill="#0078d4"/>
        <text x="0" y="-5" text-anchor="middle" font-size="18" font-weight="bold" fill="white">O</text>
        <text x="0" y="38" text-anchor="middle" font-size="13" font-weight="600" fill="#374151">Outlook</text>
      </g>

      <!-- AI Agent -->
      <g transform="translate(400, 180)">
        <rect x="-65" y="-45" width="130" height="90" rx="10" fill="#fffbeb" stroke="#f59e0b" stroke-width="2"/>
        <circle cx="0" cy="-10" r="20" fill="#f59e0b" stroke="#d97706" stroke-width="1.5"/>
        <circle cx="-7" cy="-14" r="3" fill="white"/><circle cx="7" cy="-14" r="3" fill="white"/>
        <path d="M-10 -4c5 6 15 6 20 0" stroke="white" stroke-width="2" stroke-linecap="round" fill="none"/>
        <text x="0" y="38" text-anchor="middle" font-size="13" font-weight="600" fill="#374151">AI Agent</text>
      </g>

      <!-- Azure Cloud -->
      <g transform="translate(580, 180)">
        <rect x="-65" y="-45" width="130" height="90" rx="10" fill="#f0fdf4" stroke="#16a34a" stroke-width="2"/>
        <path d="M-5 -5h-3A20 20 0 1 0 -23 15h23a12 12 0 0 0 0-24z" fill="none" stroke="#16a34a" stroke-width="1.5" transform="translate(12, -10)"/>
        <text x="0" y="38" text-anchor="middle" font-size="13" font-weight="600" fill="#374151">Azure Cloud</text>
      </g>

      <!-- HR Reviews -->
      <g transform="translate(400, 360)">
        <rect x="-80" y="-45" width="160" height="90" rx="10" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
        <circle cx="0" cy="-10" r="20" fill="#22c55e"/>
        <path d="M-8 -10l6 6 14-14" stroke="white" stroke-width="3" stroke-linecap="round" fill="none"/>
        <text x="0" y="28" text-anchor="middle" font-size="13" font-weight="600" fill="#374151">HR Reviews</text>
        <text x="0" y="42" text-anchor="middle" font-size="10" fill="#6b7280">Approves before send</text>
      </g>

      <!-- Arrows -->
      <line x1="135" y1="180" x2="170" y2="180" stroke="#6b7280" stroke-width="2" marker-end="url(#arr1)"/>
      <text x="152" y="168" font-size="10" fill="#6b7280">Email</text>
      <line x1="285" y1="180" x2="330" y2="180" stroke="#6b7280" stroke-width="2" marker-end="url(#arr1)"/>
      <text x="307" y="168" font-size="10" fill="#6b7280">Fetch</text>
      <line x1="465" y1="180" x2="510" y2="180" stroke="#6b7280" stroke-width="2" marker-end="url(#arr1)"/>
      <text x="487" y="168" font-size="10" fill="#6b7280">LLM</text>
      <line x1="400" y1="230" x2="400" y2="310" stroke="#6b7280" stroke-width="2" marker-end="url(#arr1)"/>
      <text x="420" y="275" font-size="10" fill="#6b7280">Draft</text>

      <!-- HR to Employee - Approved -->
      <path d="M 320 340 L 80 340 L 80 230" fill="none" stroke="#22c55e" stroke-width="2" marker-end="url(#arr3)"/>
      <text x="200" y="330" font-size="10" fill="#22c55e">‚úì Approved</text>

      <!-- HR to Employee - Missing Info -->
      <path d="M 320 380 L 80 380 L 80 235" fill="none" stroke="#f59e0b" stroke-width="2" stroke-dasharray="6,4" marker-end="url(#arr1)"/>
      <text x="200" y="395" font-size="10" fill="#f59e0b">‚ö† Missing info</text>

      <rect x="230" y="452" width="240" height="28" rx="4" fill="#eff6ff" stroke="#3b82f6" stroke-width="1"/>
      <text x="350" y="471" text-anchor="middle" font-size="11" fill="#3b82f6" font-weight="500">Both outcomes ‚Üí Employee</text>
    </svg>

    <!-- DETAILED VIEW -->
    <svg id="detailed" class="hidden" width="900" height="700" viewBox="0 0 900 700">
      <defs>
        <marker id="arrD" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/></marker>
        <marker id="arrB" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/></marker>
      </defs>

      <!-- Section backgrounds -->
      <rect x="20" y="60" width="130" height="160" rx="10" fill="#f9fafb" stroke="#d1d5db" stroke-width="2" stroke-dasharray="6,4"/>
      <text x="85" y="82" text-anchor="middle" font-size="12" font-weight="600" fill="#6b7280">Users</text>
      <rect x="170" y="60" width="150" height="260" rx="10" fill="#eff6ff" stroke="#93c5fd" stroke-width="2" stroke-dasharray="6,4"/>
      <text x="245" y="82" text-anchor="middle" font-size="12" font-weight="600" fill="#3b82f6">Microsoft 365</text>
      <rect x="340" y="60" width="180" height="380" rx="10" fill="#fffbeb" stroke="#fcd34d" stroke-width="2" stroke-dasharray="6,4"/>
      <text x="430" y="82" text-anchor="middle" font-size="12" font-weight="600" fill="#d97706">AI Agent (Python)</text>
      <rect x="540" y="60" width="340" height="380" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="2" stroke-dasharray="6,4"/>
      <text x="710" y="82" text-anchor="middle" font-size="12" font-weight="600" fill="#16a34a">Azure Resources</text>
      <rect x="170" y="470" width="710" height="130" rx="10" fill="#fef2f2" stroke="#fca5a5" stroke-width="2" stroke-dasharray="6,4"/>
      <text x="525" y="492" text-anchor="middle" font-size="12" font-weight="600" fill="#dc2626">Human Review Layer (HR Team)</text>

      <!-- Employee -->
      <g transform="translate(85, 155)">
        <rect x="-50" y="-35" width="100" height="80" rx="8" fill="white" stroke="#d1d5db" stroke-width="2"/>
        <circle cx="0" cy="-8" r="10" fill="none" stroke="#4b5563" stroke-width="1.5"/>
        <path d="M-16 22c0-10 8-14 16-14s16 4 16 14" fill="none" stroke="#4b5563" stroke-width="1.5"/>
        <text x="0" y="30" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Employee</text>
        <text x="0" y="42" text-anchor="middle" font-size="9" fill="#6b7280">(Browser)</text>
      </g>

      <!-- Outlook -->
      <g transform="translate(245, 135)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#3b82f6" stroke-width="2"/>
        <rect x="-15" y="-25" width="30" height="30" rx="4" fill="#0078d4"/>
        <text x="0" y="-5" text-anchor="middle" font-size="14" font-weight="bold" fill="white">O</text>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Outlook</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">Uniforms Inbox</text>
      </g>

      <!-- Outlook Plugin -->
      <g transform="translate(245, 255)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#3b82f6" stroke-width="2"/>
        <rect x="-15" y="-25" width="30" height="30" rx="4" fill="none" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="-7" y1="-10" x2="7" y2="-10" stroke="#2563eb" stroke-width="1.5"/>
        <line x1="0" y1="-17" x2="0" y2="-3" stroke="#2563eb" stroke-width="1.5"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Outlook Plugin</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">Review Button</text>
      </g>

      <!-- Uniform Agent -->
      <g transform="translate(430, 135)">
        <rect x="-60" y="-35" width="120" height="80" rx="8" fill="white" stroke="#f59e0b" stroke-width="2"/>
        <circle cx="0" cy="-8" r="16" fill="#f59e0b" stroke="#d97706" stroke-width="1.5"/>
        <circle cx="-5" cy="-11" r="2.5" fill="white"/><circle cx="5" cy="-11" r="2.5" fill="white"/>
        <path d="M-7 -3c4 5 10 5 14 0" stroke="white" stroke-width="1.5" stroke-linecap="round" fill="none"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Uniform Agent</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">LangGraph</text>
      </g>

      <!-- Classification -->
      <g transform="translate(430, 230)">
        <rect x="-70" y="-25" width="140" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
        <text x="0" y="-8" text-anchor="middle" font-size="10" font-weight="600" fill="#92400e">Classification</text>
        <text x="0" y="5" text-anchor="middle" font-size="8" fill="#a16207">‚Ä¢ Uniform Request</text>
        <text x="0" y="16" text-anchor="middle" font-size="8" fill="#a16207">‚Ä¢ Out of Scope</text>
      </g>

      <!-- Completeness Check -->
      <g transform="translate(430, 305)">
        <rect x="-70" y="-25" width="140" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
        <text x="0" y="-8" text-anchor="middle" font-size="10" font-weight="600" fill="#92400e">Completeness Check</text>
        <text x="0" y="5" text-anchor="middle" font-size="8" fill="#a16207">‚Ä¢ Size info</text>
        <text x="0" y="16" text-anchor="middle" font-size="8" fill="#a16207">‚Ä¢ Medical docs</text>
      </g>

      <!-- Draft Generator -->
      <g transform="translate(430, 380)">
        <rect x="-70" y="-25" width="140" height="50" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
        <text x="0" y="-5" text-anchor="middle" font-size="10" font-weight="600" fill="#92400e">Draft Generator</text>
        <text x="0" y="10" text-anchor="middle" font-size="8" fill="#a16207">Using 50 examples</text>
      </g>

      <!-- Azure OpenAI -->
      <g transform="translate(620, 135)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#10a37f" stroke-width="2"/>
        <circle cx="0" cy="-8" r="16" fill="#10a37f"/>
        <text x="0" y="-4" text-anchor="middle" font-size="8" font-weight="bold" fill="white">LLM</text>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Azure OpenAI</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">LLM</text>
      </g>

      <!-- PostgreSQL -->
      <g transform="translate(790, 135)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#0ea5e9" stroke-width="2"/>
        <ellipse cx="0" cy="-18" rx="16" ry="6" fill="none" stroke="#0ea5e9" stroke-width="1.5"/>
        <path d="M-16 -18v24c0 3 7 6 16 6s16-3 16-6v-24" fill="none" stroke="#0ea5e9" stroke-width="1.5"/>
        <path d="M-16 -6c0 3 7 6 16 6s16-3 16-6" fill="none" stroke="#0ea5e9" stroke-width="1.5"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">PostgreSQL</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">Email Storage</text>
      </g>

      <!-- Vector DB -->
      <g transform="translate(620, 255)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#8b5cf6" stroke-width="2"/>
        <rect x="-18" y="-26" width="14" height="14" rx="2" fill="none" stroke="#8b5cf6" stroke-width="1.5"/>
        <rect x="4" y="-26" width="14" height="14" rx="2" fill="none" stroke="#8b5cf6" stroke-width="1.5"/>
        <rect x="-18" y="-8" width="14" height="14" rx="2" fill="none" stroke="#8b5cf6" stroke-width="1.5"/>
        <rect x="4" y="-8" width="14" height="14" rx="2" fill="none" stroke="#8b5cf6" stroke-width="1.5"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Vector DB</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">Knowledge Base</text>
      </g>

      <!-- Key Vault -->
      <g transform="translate(790, 255)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#eab308" stroke-width="2"/>
        <circle cx="-8" cy="-14" r="10" fill="none" stroke="#eab308" stroke-width="1.5"/>
        <path d="M0 -6l16 16M12 6l8-8" fill="none" stroke="#eab308" stroke-width="1.5"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Key Vault</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">Secrets</text>
      </g>

      <!-- Knowledge Base Topics -->
      <g transform="translate(705, 380)">
        <rect x="-100" y="-35" width="200" height="70" rx="6" fill="#f5f3ff" stroke="#8b5cf6" stroke-width="1.5"/>
        <text x="0" y="-15" text-anchor="middle" font-size="10" font-weight="600" fill="#6d28d9">Knowledge Base Topics</text>
        <text x="0" y="2" text-anchor="middle" font-size="9" fill="#7c3aed">‚Ä¢ Sizing guide  ‚Ä¢ Ordering</text>
        <text x="0" y="15" text-anchor="middle" font-size="9" fill="#7c3aed">‚Ä¢ Replacements  ‚Ä¢ Medical</text>
        <text x="0" y="28" text-anchor="middle" font-size="9" fill="#7c3aed">‚Ä¢ Returns  ‚Ä¢ FAQs</text>
      </g>

      <!-- HR Reviews -->
      <g transform="translate(280, 545)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#22c55e" stroke-width="2"/>
        <circle cx="0" cy="-8" r="16" fill="#22c55e"/>
        <path d="M-6 -8l5 5 11-11" stroke="white" stroke-width="2.5" stroke-linecap="round" fill="none"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">HR Reviews</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">Approve / Edit</text>
      </g>

      <!-- Draft Queue -->
      <g transform="translate(500, 545)">
        <rect x="-80" y="-35" width="160" height="80" rx="8" fill="#fee2e2" stroke="#f87171" stroke-width="2"/>
        <text x="0" y="-10" text-anchor="middle" font-size="11" font-weight="600" fill="#b91c1c">Draft Queue</text>
        <text x="0" y="5" text-anchor="middle" font-size="9" fill="#dc2626">Pending approval</text>
        <text x="0" y="20" text-anchor="middle" font-size="9" font-weight="600" fill="#dc2626">Nothing sent without ‚úì</text>
      </g>

      <!-- Send Response -->
      <g transform="translate(720, 545)">
        <rect x="-55" y="-35" width="110" height="80" rx="8" fill="white" stroke="#22c55e" stroke-width="2"/>
        <rect x="-16" y="-24" width="32" height="24" rx="3" fill="none" stroke="#2563eb" stroke-width="1.5"/>
        <path d="M-16 -21l16 11 16-11" fill="none" stroke="#2563eb" stroke-width="1.5"/>
        <text x="0" y="28" text-anchor="middle" font-size="11" font-weight="600" fill="#374151">Send Response</text>
        <text x="0" y="40" text-anchor="middle" font-size="9" fill="#6b7280">To Employee</text>
      </g>

      <!-- Arrows -->
      <line x1="135" y1="145" x2="185" y2="135" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="140" y="125" font-size="9" fill="#6b7280">Sends email</text>
      <line x1="245" y1="180" x2="245" y2="210" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <line x1="305" y1="245" x2="365" y2="145" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="318" y="180" font-size="9" fill="#6b7280">Graph API</text>
      <line x1="495" y1="125" x2="560" y2="125" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="527" y="115" font-size="9" fill="#6b7280">Completions</text>
      <line x1="680" y1="135" x2="730" y2="135" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="705" y="155" font-size="9" fill="#6b7280">Store</text>
      <line x1="495" y1="155" x2="560" y2="240" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="550" y="195" font-size="9" fill="#6b7280">Embeddings</text>
      <line x1="620" y1="300" x2="620" y2="340" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <line x1="430" y1="410" x2="430" y2="505" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="450" y="460" font-size="9" fill="#6b7280">Draft ready</text>
      <line x1="340" y1="545" x2="415" y2="545" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <line x1="585" y1="545" x2="660" y2="545" stroke="#6b7280" stroke-width="2" marker-end="url(#arrD)"/>
      <text x="622" y="535" font-size="9" fill="#6b7280">Approved</text>

      <!-- Loop arrow -->
      <path d="M 720 590 L 720 650 L 40 650 L 40 155 L 30 155" fill="none" stroke="#3b82f6" stroke-width="2.5" stroke-dasharray="8,5"/>
      <polygon points="30,155 45,148 45,162" fill="#3b82f6"/>
      <rect x="250" y="632" width="340" height="28" rx="4" fill="#eff6ff" stroke="#3b82f6" stroke-width="1"/>
      <text x="420" y="651" text-anchor="middle" font-size="11" fill="#3b82f6" font-weight="500">üîÑ Loop: If info missing, employee replies ‚Üí process restarts</text>
    </svg>
  </div>

  <div class="key-point">
    <strong>üí° Key Point:</strong> AI automates reading, classifying, and drafting. <strong>HR approves every response before it's sent.</strong>
  </div>

  <script>
    let isDetailed = false;
    
    function toggleView() {
      isDetailed = !isDetailed;
      document.getElementById('highLevel').classList.toggle('hidden', isDetailed);
      document.getElementById('detailed').classList.toggle('hidden', !isDetailed);
      document.getElementById('toggleIcon').textContent = isDetailed ? 'üîç' : 'üìä';
      document.getElementById('toggleTitle').textContent = isDetailed ? 'Detailed View' : 'High-Level View';
      document.getElementById('toggleSub').textContent = 'Click to switch to ' + (isDetailed ? 'High-Level' : 'Detailed');
    }
  </script>
</body>
</html>
